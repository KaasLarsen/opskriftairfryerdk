<!-- PARTIAL: /partials/header.html -->
<header class="site-header-wrap" role="banner">
  <div class="site-header">
    <a class="logo" href="/">Opskrift-Airfryer.dk</a>

    <!-- Burger -->
    <input id="nav-toggle" type="checkbox" hidden />
    <label for="nav-toggle" class="burger-btn" aria-label="Åbn menu" aria-controls="site-nav" aria-expanded="false">
      <span></span><span></span><span></span>
    </label>

    <!-- Nav -->
    <nav id="site-nav" class="nav" role="navigation">
      <a href="/opskrifter.html">Opskrifter</a>
      <a href="/guides.html">Guides</a>
      <a href="/madplan/index.html">Madplaner</a>
      <a href="/top.html">Top</a>
      <a href="#" class="btn" data-auth-open aria-controls="auth-modal" aria-expanded="false">Log ind</a>
    </nav>
  </div>
</header>

<script>
/* Header JS – kun det nødvendige, uden at røre andet */
(function(){
  function ready(fn){
    if (document.readyState === 'complete' || document.readyState === 'interactive') return fn();
    document.addEventListener('DOMContentLoaded', fn);
  }
  ready(function(){
    // Burger: ARIA toggle
    var toggle = document.getElementById('nav-toggle');
    var btn = document.querySelector('.burger-btn');
    var nav = document.getElementById('site-nav');
    if (toggle && btn && nav){
      function syncAria(){ btn.setAttribute('aria-expanded', toggle.checked ? 'true' : 'false'); }
      toggle.addEventListener('change', syncAria);
      syncAria();
      // Luk menu ved klik på et link (mobil)
      nav.addEventListener('click', function(e){
        if (e.target.tagName === 'A'){ toggle.checked = false; syncAria(); }
      });
    }

    // Åbn auth-modal uden at påvirke burgeren
    document.body.addEventListener('click', function(e){
      var t = e.target.closest('[data-auth-open]');
      if (!t) return;
      e.preventDefault();
      var modal = document.getElementById('auth-modal');
      if (modal){
        modal.classList.add('is-open');
        document.documentElement.style.overflow = 'hidden';
      } else {
        // fallback: gå til hash så modal kan åbne når partials er loadet
        location.hash = '#login';
      }
    });
  });
})();
</script>
