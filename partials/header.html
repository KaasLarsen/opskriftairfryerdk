<!-- PARTIAL: /partials/header.html -->
<style>
  :root{ --max:1200px; --pad:16px; --line:#e2e8f0; --text:#0f172a; --accent:#0ea5e9; }

  .header{position:relative; z-index:50; background:#fff; border-bottom:1px solid var(--line); box-shadow:0 2px 6px rgba(2,8,23,.04);}
  .header-inner{max-width:var(--max); margin:0 auto; padding:12px var(--pad);
    display:flex; align-items:center; justify-content:space-between; gap:12px;}

  .logo{font-weight:800; color:var(--accent); font-size:20px; text-decoration:none;}

  /* nav */
  .nav{display:flex; align-items:center; gap:22px;}
  .nav > a{color:var(--text); font-size:15px; text-decoration:none; padding:6px 2px; position:relative;}
  .nav > a:hover{color:#0b1220}

  /* dropdown */
  .drop{position:relative}
  .drop > summary{
    list-style:none; cursor:pointer; user-select:none;
    color:var(--text); font-size:15px; padding:6px 2px; display:flex; align-items:center; gap:6px;
  }
  .drop > summary::-webkit-details-marker{display:none}
  .drop > summary::after{content:"▾"; font-size:12px; opacity:.75; transition:transform .12s ease}
  .drop[open] > summary::after{transform:rotate(180deg)}
  .menu{
    position:absolute; left:0; top:calc(100% + 8px);
    background:#fff; border:1px solid var(--line); border-radius:10px; box-shadow:0 10px 22px rgba(2,8,23,.08);
    padding:8px; min-width:240px; display:grid; gap:6px;
  }
  .menu a{color:var(--text); text-decoration:none; font-size:14px; padding:8px 10px; border-radius:8px; display:flex; align-items:center; justify-content:space-between;}
  .menu a:hover{background:#f8fafc}

  /* klik-område til at fange klik udenfor (visuelt usynlig) */
  .drop[open]::before{content:""; position:fixed; inset:0; background:transparent;}

  /* responsiv */
  @media (max-width:720px){
    .nav{gap:14px}
    .menu{min-width:85vw}
  }

  /* Facebook-knap */
  .fb-btn{
    display:inline-grid; place-items:center;
    width:32px; height:32px; border:1px solid var(--line);
    border-radius:999px; background:#fff; color:#1877f2;
    transition:transform .08s ease, background .15s;
  }
  .fb-btn:hover{background:#f0f6ff; transform:translateY(-1px);}
</style>

<header class="header" role="banner">
  <div class="header-inner">
    <a class="logo" href="/">Opskrift Airfryer</a>

    <nav class="nav" role="navigation" aria-label="Hovednavigation">
      <a href="/">Forside</a>
      <a href="/top.html">Top</a>
      <a href="/seneste.html">Seneste</a>
      <a href="/guides.html">Guides</a>

      <details class="drop" id="catDrop">
        <summary aria-haspopup="menu" aria-expanded="false">Kategorier</summary>
        <div class="menu" role="menu" aria-label="Opskriftskategorier">
          <!-- klassiske -->
          <a href="/kategori.html?navn=Svinek%C3%B8d" role="menuitem">Svinekød</a>
          <a href="/kategori.html?navn=Kylling" role="menuitem">Kylling</a>
          <a href="/kategori.html?navn=Oksek%C3%B8d" role="menuitem">Oksekød</a>
          <a href="/kategori.html?navn=Fisk" role="menuitem">Fisk</a>
          <a href="/kategori.html?navn=Gr%C3%B8nt" role="menuitem">Grønt</a>
          <a href="/kategori.html?navn=Tilbeh%C3%B8r" role="menuitem">Tilbehør</a>
          <a href="/kategori.html?navn=Dessert" role="menuitem">Dessert</a>
          <!-- ekstra ønskede -->
          <a href="/kategori.html?navn=Lam" role="menuitem">Lam</a>
          <a href="/kategori.html?navn=And" role="menuitem">And</a>
          <a href="/kategori.html?navn=Kalkun" role="menuitem">Kalkun</a>
          <a href="/kategori.html?navn=Snacks" role="menuitem">Snacks</a>
          <a href="/kategori.html?navn=Bagning" role="menuitem">Bagning</a>
          <a href="/kategori.html?navn=Morgenmad" role="menuitem">Morgenmad</a>
        </div>
      </details>

      <!-- Facebook-knap -->
      <a class="fb-btn"
         href="https://www.facebook.com/profile.php?id=61567373592516"
         target="_blank" rel="noopener"
         aria-label="Besøg vores Facebook-gruppe" title="Facebook-gruppe">
        <svg width="18" height="18" aria-hidden="true"><use href="#facebook"></use></svg>
      </a>
    </nav>
  </div>
</header>

<script>
  // tilgængelig & robust dropdown-adfærd
  (function(){
    const drop = document.getElementById('catDrop');
    const summary = drop?.querySelector('summary');
    if(!drop || !summary) return;

    const syncAria = () => summary.setAttribute('aria-expanded', drop.hasAttribute('open') ? 'true' : 'false');

    summary.addEventListener('click', ()=>{ setTimeout(syncAria, 0); });

    // klik udenfor lukker
    document.addEventListener('click', (e)=>{
      if(!drop.hasAttribute('open')) return;
      if (drop.contains(e.target)) return;
      drop.removeAttribute('open');
      syncAria();
    });

    // esc lukker
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && drop.hasAttribute('open')){
        drop.removeAttribute('open');
        summary.focus();
        syncAria();
      }
    });

    // luk efter klik på menupunkt (hvis siden ikke skifter)
    drop.querySelectorAll('.menu a').forEach(a=>{
      a.addEventListener('click', ()=>{
        setTimeout(()=>{
          if (drop.hasAttribute('open')) {
            drop.removeAttribute('open');
            syncAria();
          }
        }, 0);
      });
    });

    // init
    syncAria();
  })();
</script>
